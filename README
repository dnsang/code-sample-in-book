Code rewritten when learning from programming ebook.

